(async([e,o])=>{async function t(){const e=await fetch("/status",{method:"GET",headers:{"Content-Type":".application/json",Charset:"UTF-8"}}),o=await e.json(),t=["#signin","#signup"],n=["#dashboard","#signout"];if(!0===o.status){if("#home"===location.hash||""===location.hash)return;n.includes(location.hash)||(location.hash="#dashboard")}else{if("#home"===location.hash||""===location.hash)return;t.includes(location.hash)||(location.hash="#signin")}}new Swiper(".swiper",{direction:"horizontal",loop:!1,allowTouchMove:!1,hashNavigation:{watchState:!0},effect:"fade",on:{init:async function(){await t()},slideChange:async()=>{await t()}}});const n=document.querySelectorAll(".overflow-auto");n&&n.forEach(e=>{new mdb.PerfectScrollbar(e)}),e.hide();const a=document.querySelector("#buttonSignIn");a&&a.addEventListener("click",async t=>{e.show(),console.log("Sending data...");const n=await fetch("/auth?col=users&signin=true",{method:"POST",headers:{"Content-Type":"application/json",Charset:"UTF-8"},body:JSON.stringify({username:"klinikburuh",password:"123123",email:"klinikburuh@gmail.com",name:"Karim Roy Tampubolon",phone:"089693313000"})}),a=await n.json();e.hide(),o(instance).show(a),console.log("Result : ",a)});const s=document.querySelector("#buttonSignOut");s&&s.addEventListener("click",async t=>{e.show(),console.log("Sending data...");const n=await fetch("/auth?col=users&signout=true",{method:"POST",headers:{"Content-Type":"application/json",Charset:"UTF-8"}}),a=await n.json();e.hide(),o(instance).show(a),console.log("Result : ",a),location.hash="#signin"});const i=document.querySelector("#buttonProfile");i&&i.addEventListener("click",async t=>{e.show(),console.log("Sending data...");const n=await fetch("/auth?col=users&profile=true",{method:"POST",headers:{"Content-Type":"application/json",Charset:"UTF-8"},body:JSON.stringify({username:"klinikburuh",password:"123123",email:"klinikburuh@gmail.com",name:"Karim Roy Tampubolon",phone:"089693313000"})}),a=await n.json();e.hide(),o(instance).show(a),console.log("Result : ",a)});const c=document.querySelector("#buttonApiGet");c&&c.addEventListener("click",async t=>{e.show(),console.log("Sending data...");const n=await fetch("/api?col=contacts&page=2",{method:"GET",headers:{"Content-Type":"application/json",Charset:"UTF-8"}});console.log(n),console.log(n.headers.get("Link"));const a=await n.json();e.hide(),o(instance).show(a),console.log("Result : ",a)});const l=document.querySelector("#buttonApiPost");l&&l.addEventListener("click",async t=>{e.show(),console.log("Sending data...");const n=await fetch("/api?col=contacts",{method:"POST",headers:{"Content-Type":"application/json",Charset:"UTF-8"},body:JSON.stringify({name:"Karim Roy Tampubolon",address:"Sukabumi"})}),a=await n.json();e.hide(),o(instance).show(a),console.log("Result : ",a)});const r=document.querySelector("#buttonApiUpdate");r&&r.addEventListener("click",async t=>{e.show(),console.log("Sending data...");const n=document.querySelector("#inputApiUpdate"),a=await fetch(`/api?col=contacts&id=${n.value}`,{method:"POST",headers:{"Content-Type":"application/json",Charset:"UTF-8"},body:JSON.stringify({name:"Karim Roy Tampubolon",address:"Sukabumi"})}),s=await a.json();e.hide(),o(instance).show(s),console.log("Result : ",s)});const d=document.querySelector("#buttonApiDelete");d&&d.addEventListener("click",async t=>{e.show(),console.log("Sending data...");const n=document.querySelector("#inputApiDelete"),a=await fetch(`/api?col=contacts&id=${n.value}`,{method:"DELETE",headers:{"Content-Type":"application/json",Charset:"UTF-8"}}),s=await a.json();e.hide(),o(instance).show(s),console.log("Result : ",s)});const h=document.querySelector("#form-signin");h&&h.addEventListener("submit",async n=>{n.preventDefault();const a=new FormData(n.target),s=Object.fromEntries(a);e.show(),console.log("Sending data...");const i=await fetch("/auth?col=users&signin=true",{method:"POST",headers:{"Content-Type":"application/json",Charset:"UTF-8"},body:JSON.stringify(s)}),c=await i.json();e.hide(),o(instance).show(c),console.log("Result : ",c),await t()});const u=document.querySelector("#form-signup");u&&u.addEventListener("submit",async n=>{n.preventDefault();const a=new FormData(n.target),s=Object.fromEntries(a);e.show(),console.log("Sending data...");const i=await fetch("/auth?col=users&signup=true",{method:"POST",headers:{"Content-Type":"application/json",Charset:"UTF-8"},body:JSON.stringify(s)}),c=await i.json();e.hide(),o(instance).show(c),console.log("Result : ",c),await t()})})([this.Loading,this.Notif]),document.querySelector("dialog").showModal(),document.querySelector("#btn-close").addEventListener("click",e=>{document.querySelector("dialog").close()});